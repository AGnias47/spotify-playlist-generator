
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome to Spotify Playlist Generator’s documentation! &#8212; Spotify Playlist Generator 1.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="static/nature.css" />
    <script data-url_root="./" id="documentation_options" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Spotify Playlist Generator 1.3 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Welcome to Spotify Playlist Generator’s documentation!</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-spotify-playlist-generator-s-documentation">
<h1>Welcome to Spotify Playlist Generator’s documentation!<a class="headerlink" href="#welcome-to-spotify-playlist-generator-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
<div class="section" id="spotify-playlist-generator">
<h1>Spotify Playlist Generator<a class="headerlink" href="#spotify-playlist-generator" title="Permalink to this headline">¶</a></h1>
<p>The Spotify Playlist Generator creates a playlist in a user’s Spotify library from a file of the form</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Artist, Song
</pre></div>
</div>
<p>A playlist can be generated by either running a Python script, or by running the provided Flask application.</p>
<p>This project also contains an authorization app for generating an initial access and refresh token. This app was pulled from the <code class="docutils literal notranslate"><span class="pre">authorization_code</span></code> directory within
<a class="reference external" href="https://github.com/spotify/web-api-auth-examples">spotify/web-api-auth-examples</a>. The License for that project is included in the <code class="docutils literal notranslate"><span class="pre">auth_page</span></code> repo.</p>
<div class="section" id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>Link: <a class="reference external" href="https://github.com/AGnias47/SpotifyAPI">https://github.com/AGnias47/SpotifyAPI</a></p>
</div>
<div class="section" id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>python &gt;= 3.7</p></li>
<li><p>pip</p></li>
<li><p>node</p></li>
<li><p>npm</p></li>
</ul>
</div>
<div class="section" id="playlist-format">
<h2>Playlist Format<a class="headerlink" href="#playlist-format" title="Permalink to this headline">¶</a></h2>
<p>The playlist should be in a text file of the form</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Artist, Song
</pre></div>
</div>
<dl class="simple">
<dt>If using a spreadsheet tool, such as Excel, add the artist to Column A and the song to Column B. Do not add column</dt><dd><p>titles (ex. Row 1 should be the first song in your playlist). Ensure the file is saved as a CSV (i.e. not xlsx).</p>
</dd>
<dt>The playlist uses fuzzy matching to determine which songs should be added. This makes the playlist generator forgiving</dt><dd><p>of misspellings, missing commas, and incomplete titles of songs, among other things, but it does increase the likelihood
of an unwanted song being added to your playlist. So it goes. The playlist generator currently uses a <a class="reference external" href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein
distance</a> ratio of 0.75. This can be altered if too many / not
enough songs from a playlist are being added.</p>
</dd>
</dl>
</div>
<div class="section" id="playlist-generation-via-python-script">
<h2>Playlist Generation via Python Script<a class="headerlink" href="#playlist-generation-via-python-script" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initial-token-generation">
<h3>Initial Token Generation<a class="headerlink" href="#initial-token-generation" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>Use of the playlist generator requires users to obtain their own <code class="docutils literal notranslate"><span class="pre">client_id</span></code> and <code class="docutils literal notranslate"><span class="pre">client_secret</span></code> token from the</dt><dd><p><a class="reference external" href="https://developer.spotify.com/dashboard/applications">Spotify Developer’s Dashboard</a>. Once these tokens are obtained,
follow the steps below to obtain your initial <code class="docutils literal notranslate"><span class="pre">access_token</span></code> and a <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code>.</p>
</dd>
</dl>
<ol class="arabic">
<li><p>In the project root directory, create a <code class="docutils literal notranslate"><span class="pre">keys.json</span></code> file with the following contents
(Note: The <code class="docutils literal notranslate"><span class="pre">access_token</span></code> and <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> are intentionally left blank for now, but
should conform to valid JSON standards):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;client_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;Your Client ID&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;client_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;Your Client Secret ID&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;access_token&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;refresh_token&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">auth_page</span></code> directory, run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span></code> to download the dependencies needed to run the auth page</p></li>
<li><p>In the project root directory, run <code class="docutils literal notranslate"><span class="pre">node</span> <span class="pre">./auth_page/app.js</span></code></p></li>
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">localhost:8888</span></code> in a web browser and click “Log in with Spotify”</p></li>
<li><p>Authorize the app for access by logging in with your Spotify user credentials</p></li>
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">access_token</span></code> and <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> and use those values for the corresponding keys in the <code class="docutils literal notranslate"><span class="pre">keys.json</span></code> file</p></li>
</ol>
</div>
<div class="section" id="refreshing-the-access-token">
<h3>Refreshing the Access Token<a class="headerlink" href="#refreshing-the-access-token" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>At this point, an access token has been generated, and the playlist generator is able to authenticate with Spotify.</dt><dd><p>However, the access token expires after 1 hour. The access token can be regenerated using your refresh token via
the following steps.</p>
</dd>
</dl>
<ol class="arabic simple">
<li><p>Ensure your <code class="docutils literal notranslate"><span class="pre">keys.json</span></code> file exists with all required fields. <code class="docutils literal notranslate"><span class="pre">client_id</span></code>, <code class="docutils literal notranslate"><span class="pre">client_secret</span></code>, and <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> must
be accurate. If they are not, rerun the steps for “Initial Token Generation”.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">./spotify_token_refresh/refresh.py</span></code>. The <code class="docutils literal notranslate"><span class="pre">access_token</span></code> in <code class="docutils literal notranslate"><span class="pre">keys.json</span></code> will be updated in place and should now
be able to authenticate with Spotify.</p></li>
</ol>
<dl class="simple">
<dt>The GUI method can always be used to generate a new access token, but this method allows for it to be updated directly</dt><dd><p>from the command line.</p>
</dd>
</dl>
</div>
<div class="section" id="running-the-playlist-generator">
<h3>Running the Playlist Generator<a class="headerlink" href="#running-the-playlist-generator" title="Permalink to this headline">¶</a></h3>
<p>Once the access token has been updated in <code class="docutils literal notranslate"><span class="pre">keys.json</span></code>, the playlist generator can be executed with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">PYTHONPATH</span><span class="o">=</span>. ./spotifytools/playlist_generator.py -f &lt;Path to csv playlist&gt; -n &lt;Playlist name&gt; -d &lt;Playlist description <span class="o">(</span>Optional<span class="o">)</span>&gt;
</pre></div>
</div>
<p>The script will print to stdout which songs were and were not added to the playlist.</p>
</div>
</div>
<div class="section" id="playlist-generation-via-flask-app">
<h2>Playlist Generation via Flask App<a class="headerlink" href="#playlist-generation-via-flask-app" title="Permalink to this headline">¶</a></h2>
<p>The Flask application is in its initial development phase. While functional, it is error prone and needs a UI/UX update.</p>
<dl class="simple">
<dt>Use of the Flask app requires users to obtain their own <code class="docutils literal notranslate"><span class="pre">client_id</span></code> and <code class="docutils literal notranslate"><span class="pre">client_secret</span></code> token from the</dt><dd><p><a class="reference external" href="https://developer.spotify.com/dashboard/applications">Spotify Developer’s Dashboard</a>. Once these have</p>
</dd>
</dl>
<p>been obtained, create a <code class="docutils literal notranslate"><span class="pre">keys.json</span></code> file in the root directory with the following contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```json
{
    &quot;client_id&quot;: &quot;&lt;Your Client ID&gt;&quot;,
    &quot;client_secret&quot;: &quot;&lt;Your Client Secret ID&gt;&quot;
}
```
</pre></div>
</div>
<div class="section" id="running-the-flask-app">
<h3>Running the Flask App<a class="headerlink" href="#running-the-flask-app" title="Permalink to this headline">¶</a></h3>
<p>In the project root directory, run</p>
<div class="highlight-commandline notranslate"><div class="highlight"><pre><span></span>flask run
</pre></div>
</div>
<p>Navigate to <code class="docutils literal notranslate"><span class="pre">localhost:5000</span></code> and log in when prompted. Enter your desired playlist name, description, and the
playlist content. Tracks should be separated by a line break. The dash (-) delimiter is used by default to separate
artists and song titles, but a comma or slash can also be used. Click submit, and the playlist should be created.</p>
</div>
</div>
<div class="section" id="planned-improvements">
<h2>Planned Improvements<a class="headerlink" href="#planned-improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Flask App UI Upgrade</p></li>
<li><p>User testing with more diverse array of songs</p></li>
<li><p>Allow for usage of already created playlists</p></li>
</ul>
</div>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<p>The following resources were referenced significantly in the development of this project:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.spotify.com/documentation/web-api/">Spotify Developer Documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/spotify/web-api-auth-examples">spotify/web-api-auth-examples</a></p></li>
<li><p><a class="reference external" href="https://github.com/vanortg/Flask-Spotify-Auth">vanortg/Flask-Spotify-Auth</a></p></li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to Spotify Playlist Generator’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#spotify-playlist-generator">Spotify Playlist Generator</a><ul>
<li><a class="reference internal" href="#source-code">Source Code</a></li>
<li><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li><a class="reference internal" href="#playlist-format">Playlist Format</a></li>
<li><a class="reference internal" href="#playlist-generation-via-python-script">Playlist Generation via Python Script</a><ul>
<li><a class="reference internal" href="#initial-token-generation">Initial Token Generation</a></li>
<li><a class="reference internal" href="#refreshing-the-access-token">Refreshing the Access Token</a></li>
<li><a class="reference internal" href="#running-the-playlist-generator">Running the Playlist Generator</a></li>
</ul>
</li>
<li><a class="reference internal" href="#playlist-generation-via-flask-app">Playlist Generation via Flask App</a><ul>
<li><a class="reference internal" href="#running-the-flask-app">Running the Flask App</a></li>
</ul>
</li>
<li><a class="reference internal" href="#planned-improvements">Planned Improvements</a></li>
<li><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Spotify Playlist Generator 1.3 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Welcome to Spotify Playlist Generator’s documentation!</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Andy Gnias.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>